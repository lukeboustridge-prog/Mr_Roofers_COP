{
  "id": "672dcf3a-34df-4f10-9176-daf2636ec74e",
  "prevId": "142a9b4b-c74b-4069-ad6f-58ded9a2678b",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.categories": {
      "name": "categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "substrate_id": {
          "name": "substrate_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "categories_substrate_id_substrates_id_fk": {
          "name": "categories_substrate_id_substrates_id_fk",
          "tableFrom": "categories",
          "tableTo": "substrates",
          "columnsFrom": [
            "substrate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "categories_source_id_content_sources_id_fk": {
          "name": "categories_source_id_content_sources_id_fk",
          "tableFrom": "categories",
          "tableTo": "content_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category_topics": {
      "name": "category_topics",
      "schema": "",
      "columns": {
        "category_id": {
          "name": "category_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_topics_category_id_categories_id_fk": {
          "name": "category_topics_category_id_categories_id_fk",
          "tableFrom": "category_topics",
          "tableTo": "categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "category_topics_topic_id_topics_id_fk": {
          "name": "category_topics_topic_id_topics_id_fk",
          "tableFrom": "category_topics",
          "tableTo": "topics",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "category_topics_category_id_topic_id_pk": {
          "name": "category_topics_category_id_topic_id_pk",
          "columns": [
            "category_id",
            "topic_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.checklists": {
      "name": "checklists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_ref": {
          "name": "project_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "items": {
          "name": "items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_checklists_user": {
          "name": "idx_checklists_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "checklists_user_id_users_id_fk": {
          "name": "checklists_user_id_users_id_fk",
          "tableFrom": "checklists",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checklists_detail_id_details_id_fk": {
          "name": "checklists_detail_id_details_id_fk",
          "tableFrom": "checklists",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.content_sources": {
      "name": "content_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "short_name": {
          "name": "short_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cop_section_details": {
      "name": "cop_section_details",
      "schema": "",
      "columns": {
        "section_id": {
          "name": "section_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_cop_section_details_section": {
          "name": "idx_cop_section_details_section",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cop_section_details_detail": {
          "name": "idx_cop_section_details_detail",
          "columns": [
            {
              "expression": "detail_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cop_section_details_section_id_cop_sections_id_fk": {
          "name": "cop_section_details_section_id_cop_sections_id_fk",
          "tableFrom": "cop_section_details",
          "tableTo": "cop_sections",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cop_section_details_detail_id_details_id_fk": {
          "name": "cop_section_details_detail_id_details_id_fk",
          "tableFrom": "cop_section_details",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "cop_section_details_section_id_detail_id_pk": {
          "name": "cop_section_details_section_id_detail_id_pk",
          "columns": [
            "section_id",
            "detail_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cop_section_htg": {
      "name": "cop_section_htg",
      "schema": "",
      "columns": {
        "section_id": {
          "name": "section_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "htg_id": {
          "name": "htg_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relevance": {
          "name": "relevance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cop_section_htg_section_id_cop_sections_id_fk": {
          "name": "cop_section_htg_section_id_cop_sections_id_fk",
          "tableFrom": "cop_section_htg",
          "tableTo": "cop_sections",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cop_section_htg_htg_id_htg_content_id_fk": {
          "name": "cop_section_htg_htg_id_htg_content_id_fk",
          "tableFrom": "cop_section_htg",
          "tableTo": "htg_content",
          "columnsFrom": [
            "htg_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "cop_section_htg_section_id_htg_id_pk": {
          "name": "cop_section_htg_section_id_htg_id_pk",
          "columns": [
            "section_id",
            "htg_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cop_section_images": {
      "name": "cop_section_images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "section_id": {
          "name": "section_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_filename": {
          "name": "image_filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_type": {
          "name": "image_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "dimensions": {
          "name": "dimensions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_cop_section_images_section": {
          "name": "idx_cop_section_images_section",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cop_section_images_filename": {
          "name": "idx_cop_section_images_filename",
          "columns": [
            {
              "expression": "image_filename",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cop_section_images_section_id_cop_sections_id_fk": {
          "name": "cop_section_images_section_id_cop_sections_id_fk",
          "tableFrom": "cop_section_images",
          "tableTo": "cop_sections",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cop_sections": {
      "name": "cop_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "section_number": {
          "name": "section_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_number": {
          "name": "chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pdf_pages": {
          "name": "pdf_pages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "has_content": {
          "name": "has_content",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'mrm-cop'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cop_sections_chapter": {
          "name": "idx_cop_sections_chapter",
          "columns": [
            {
              "expression": "chapter_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cop_sections_parent": {
          "name": "idx_cop_sections_parent",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cop_sections_number": {
          "name": "idx_cop_sections_number",
          "columns": [
            {
              "expression": "section_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cop_sections_source_id_content_sources_id_fk": {
          "name": "cop_sections_source_id_content_sources_id_fk",
          "tableFrom": "cop_sections",
          "tableTo": "content_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cop_sections_section_number_unique": {
          "name": "cop_sections_section_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "section_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detail_cross_references": {
      "name": "detail_cross_references",
      "schema": "",
      "columns": {
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "related_detail_id": {
          "name": "related_detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detail_cross_references_detail_id_details_id_fk": {
          "name": "detail_cross_references_detail_id_details_id_fk",
          "tableFrom": "detail_cross_references",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "detail_cross_references_related_detail_id_details_id_fk": {
          "name": "detail_cross_references_related_detail_id_details_id_fk",
          "tableFrom": "detail_cross_references",
          "tableTo": "details",
          "columnsFrom": [
            "related_detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "detail_cross_references_detail_id_related_detail_id_pk": {
          "name": "detail_cross_references_detail_id_related_detail_id_pk",
          "columns": [
            "detail_id",
            "related_detail_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detail_failure_links": {
      "name": "detail_failure_links",
      "schema": "",
      "columns": {
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "failure_case_id": {
          "name": "failure_case_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detail_failure_links_detail_id_details_id_fk": {
          "name": "detail_failure_links_detail_id_details_id_fk",
          "tableFrom": "detail_failure_links",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "detail_failure_links_failure_case_id_failure_cases_id_fk": {
          "name": "detail_failure_links_failure_case_id_failure_cases_id_fk",
          "tableFrom": "detail_failure_links",
          "tableTo": "failure_cases",
          "columnsFrom": [
            "failure_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "detail_failure_links_detail_id_failure_case_id_pk": {
          "name": "detail_failure_links_detail_id_failure_case_id_pk",
          "columns": [
            "detail_id",
            "failure_case_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detail_legislative_links": {
      "name": "detail_legislative_links",
      "schema": "",
      "columns": {
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legislative_ref_id": {
          "name": "legislative_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detail_legislative_links_detail_id_details_id_fk": {
          "name": "detail_legislative_links_detail_id_details_id_fk",
          "tableFrom": "detail_legislative_links",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detail_legislative_links_legislative_ref_id_legislative_references_id_fk": {
          "name": "detail_legislative_links_legislative_ref_id_legislative_references_id_fk",
          "tableFrom": "detail_legislative_links",
          "tableTo": "legislative_references",
          "columnsFrom": [
            "legislative_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "detail_legislative_links_detail_id_legislative_ref_id_pk": {
          "name": "detail_legislative_links_detail_id_legislative_ref_id_pk",
          "columns": [
            "detail_id",
            "legislative_ref_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detail_links": {
      "name": "detail_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "primary_detail_id": {
          "name": "primary_detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "supplementary_detail_id": {
          "name": "supplementary_detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "match_confidence": {
          "name": "match_confidence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_detail_links_primary": {
          "name": "idx_detail_links_primary",
          "columns": [
            {
              "expression": "primary_detail_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_detail_links_supplementary": {
          "name": "idx_detail_links_supplementary",
          "columns": [
            {
              "expression": "supplementary_detail_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "detail_links_primary_detail_id_details_id_fk": {
          "name": "detail_links_primary_detail_id_details_id_fk",
          "tableFrom": "detail_links",
          "tableTo": "details",
          "columnsFrom": [
            "primary_detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detail_links_supplementary_detail_id_details_id_fk": {
          "name": "detail_links_supplementary_detail_id_details_id_fk",
          "tableFrom": "detail_links",
          "tableTo": "details",
          "columnsFrom": [
            "supplementary_detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detail_steps": {
      "name": "detail_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "instruction": {
          "name": "instruction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "caution_note": {
          "name": "caution_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_detail_steps_detail": {
          "name": "idx_detail_steps_detail",
          "columns": [
            {
              "expression": "detail_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "detail_steps_detail_id_details_id_fk": {
          "name": "detail_steps_detail_id_details_id_fk",
          "tableFrom": "detail_steps",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.details": {
      "name": "details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "substrate_id": {
          "name": "substrate_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subcategory_id": {
          "name": "subcategory_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_url": {
          "name": "model_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "min_pitch": {
          "name": "min_pitch",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_pitch": {
          "name": "max_pitch",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "specifications": {
          "name": "specifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "standards_refs": {
          "name": "standards_refs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ventilation_reqs": {
          "name": "ventilation_reqs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_details_substrate": {
          "name": "idx_details_substrate",
          "columns": [
            {
              "expression": "substrate_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_details_category": {
          "name": "idx_details_category",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_details_source": {
          "name": "idx_details_source",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "details_substrate_id_substrates_id_fk": {
          "name": "details_substrate_id_substrates_id_fk",
          "tableFrom": "details",
          "tableTo": "substrates",
          "columnsFrom": [
            "substrate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "details_category_id_categories_id_fk": {
          "name": "details_category_id_categories_id_fk",
          "tableFrom": "details",
          "tableTo": "categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "details_subcategory_id_subcategories_id_fk": {
          "name": "details_subcategory_id_subcategories_id_fk",
          "tableFrom": "details",
          "tableTo": "subcategories",
          "columnsFrom": [
            "subcategory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "details_source_id_content_sources_id_fk": {
          "name": "details_source_id_content_sources_id_fk",
          "tableFrom": "details",
          "tableTo": "content_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "details_code_unique": {
          "name": "details_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.failure_cases": {
      "name": "failure_cases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "case_id": {
          "name": "case_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "case_type": {
          "name": "case_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'determination'"
        },
        "substrate_tags": {
          "name": "substrate_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "detail_tags": {
          "name": "detail_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "failure_type": {
          "name": "failure_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nzbc_clauses": {
          "name": "nzbc_clauses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_date": {
          "name": "decision_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_failure_cases_type": {
          "name": "idx_failure_cases_type",
          "columns": [
            {
              "expression": "failure_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_failure_cases_outcome": {
          "name": "idx_failure_cases_outcome",
          "columns": [
            {
              "expression": "outcome",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_failure_cases_case_type": {
          "name": "idx_failure_cases_case_type",
          "columns": [
            {
              "expression": "case_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "failure_cases_source_id_content_sources_id_fk": {
          "name": "failure_cases_source_id_content_sources_id_fk",
          "tableFrom": "failure_cases",
          "tableTo": "content_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "failure_cases_case_id_unique": {
          "name": "failure_cases_case_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "case_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.htg_content": {
      "name": "htg_content",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "source_document": {
          "name": "source_document",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "guide_name": {
          "name": "guide_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_page": {
          "name": "pdf_page",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_htg_content_source": {
          "name": "idx_htg_content_source",
          "columns": [
            {
              "expression": "source_document",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.legislative_references": {
      "name": "legislative_references",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "edition": {
          "name": "edition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amendment": {
          "name": "amendment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clause": {
          "name": "clause",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "authority_level": {
          "name": "authority_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_leg_refs_code": {
          "name": "idx_leg_refs_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subcategories": {
      "name": "subcategories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subcategories_category_id_categories_id_fk": {
          "name": "subcategories_category_id_categories_id_fk",
          "tableFrom": "subcategories",
          "tableTo": "categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.substrates": {
      "name": "substrates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "substrates_source_id_content_sources_id_fk": {
          "name": "substrates_source_id_content_sources_id_fk",
          "tableFrom": "substrates",
          "tableTo": "content_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.topics": {
      "name": "topics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_favourites": {
      "name": "user_favourites",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_favourites_user_id_users_id_fk": {
          "name": "user_favourites_user_id_users_id_fk",
          "tableFrom": "user_favourites",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_favourites_detail_id_details_id_fk": {
          "name": "user_favourites_detail_id_details_id_fk",
          "tableFrom": "user_favourites",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_favourites_user_id_detail_id_pk": {
          "name": "user_favourites_user_id_detail_id_pk",
          "columns": [
            "user_id",
            "detail_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_history": {
      "name": "user_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_history_user": {
          "name": "idx_history_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_history_user_id_users_id_fk": {
          "name": "user_history_user_id_users_id_fk",
          "tableFrom": "user_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_history_detail_id_details_id_fk": {
          "name": "user_history_detail_id_details_id_fk",
          "tableFrom": "user_history",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.warning_conditions": {
      "name": "warning_conditions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "detail_id": {
          "name": "detail_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition_type": {
          "name": "condition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition_value": {
          "name": "condition_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "warning_text": {
          "name": "warning_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'warning'"
        },
        "nzbc_ref": {
          "name": "nzbc_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_warning_conditions_detail": {
          "name": "idx_warning_conditions_detail",
          "columns": [
            {
              "expression": "detail_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "warning_conditions_detail_id_details_id_fk": {
          "name": "warning_conditions_detail_id_details_id_fk",
          "tableFrom": "warning_conditions",
          "tableTo": "details",
          "columnsFrom": [
            "detail_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}